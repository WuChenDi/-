<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<!--<script src="jquery.js"></script>-->
		<script type="text/javascript">
			//$(function(){})	//阻塞 -> 同步

			//非阻塞 - 异步
			/*setTimeout(function() {
				alert(1);
			}, 2000);

			alert(2);*/
			window.onload = function(){
				var oBtn = document.getElementById('btn');
				
				oBtn.onclick = function(){
					//打开浏览器
					/*
					 	1.创建一个ajax对象
					 		ie6以下 new  ActiveXObject（'Microsoft.XMLHTTP'）
					 
					 
					 
					*/
					var xhr = null;
					//兼容ie6以下不支持XMLHttpRequest
						
					/*if (window.XMLHttpRequest) {
						xhr = new XMLHttpRequest();
					} else{
						xhr = new ActiveXObject('Microsoft.XMLHTTP');
					}
					*/
					
					try{
						xhr = new XMLHttpRequest();
					}catch(e){
						xhr = new ActiveXObject('Microsoft.XMLHTTP');
					}
					//在地址栏输入地址
					/*
					 	open 方法
					 	参数
					 		1. 打开方式
					 		2. 地址
					 		3. 是否异步
								异步：非阻塞	前面的代码不会影响后面代码的执行
								同步：阻塞	前面的代码会影响后面代码的执行
					*/
					
					xhr.open('GET','1.txt',true);
					//提交
					xhr.send();
					
					//alert(1);
					//alert(xhr.responseText);
					
					//等待服务器返回内容
					/*
					 	readyState ： ajax工作状态
					 		0	（初始化）还没有调用open()方法
							1	（载入）已调用send()方法，正在发送请求
							2	（载入完成）send()方法完成，已收到全部响应内容
							3	（解析）正在解析响应内容
							4	（完成）响应内容解析完成，可以在客户端调用了
						responseText : ajax请求的返回的内容就被存放到这个属性下面
						on readystate change : 当readyState改变的时候触发
						status : 服务器状态	http状态码
					*/
					xhr.onreadystatechange = function(){
						if(xhr.readyState == 4){
							//alert(xhr.responseText);
							if (xhr.status == 200) {
								alert(xhr.responseText);
							} else{
								alert('出错了,Err:' + xhr.status);
							}
						}
					}
				}
				
			}
		</script>
	</head>
	<body>
		<input type="button" name="" id="btn" value="按钮" />
	</body>
</html>
